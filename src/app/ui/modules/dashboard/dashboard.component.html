<form [formGroup]="VisitorParkingForm">
<div class="dashboard-container p-4">
  <!-- Top Header -->
  <div class="dashboard-header">
    <h3 class="text-center mb-2 p-2 m0-auto upper-font">Vehicle Registration</h3>
  </div>

  <!-- Full-width Registration Panel -->
  <div class="registration-section">
    <div class="vrm-highlight mob-vrm-highlight mob-m-20">
      <h5 for="vrm"><span class="mob-icon"><i class="fa-solid fa-car icon-primary"></i></span> VRM Number</h5>
      <input id="vrm" formControlName="vrm" type="text" placeholder="Enter your vehicle registration" class="form-control mob-m-20" />
       <div *ngIf="VisitorParkingForm.get('vrm')?.invalid && (VisitorParkingForm.get('vrm')?.dirty || VisitorParkingForm.get('vrm')?.touched)"
          class="errormsg">
        <span>{{'VRM_is_required' | translate}} </span>
        </div>
    </div>

    <div class="details-inline">
      <div class="detail-block card-style id-box location-mobile-bx">
        <label><i class="fa-solid fa-location-dot icon-primary"></i> Location ID</label>
        <p>{{locationId}}</p>
      </div>
      <div class="detail-block card-style id-box location-mobile-bx">
        <label><i class="fa-solid fa-map-pin icon-primary"></i> Location Address</label>
        <p>{{locationAddress}}</p>
      </div>
      <div class="detail-block card-style id-box location-mobile-bx">
        <label><span class="mob-icon"><i class="fa fa-calendar icon-primary" aria-hidden="true"></i></span> Date & Time</label>
        <p>{{ dateAndTime | date: 'HH:mm a, EEE MMM dd' }}</p>
      </div>
    </div>

    <div class="btn-container text-center m0-auto">
      <button class="btn-register" (click)="VerifyVehicle()">Register Vehicle</button>
      <!-- <button class="btn-register" (click)="agreeAndProceed()">Register Vehicle</button> -->
    </div>
  </div>
</div>

</form>



<div class="modal cust-modal" tabindex="-1" role="dialog" [ngStyle]="{'display': displayStyle}">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      
      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title">Confirm Vehicle VRM - {{optimaVRM}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="closeVechConfirmPopUp()" aria-label="Close"></button>
      </div>

      <!-- Modal Body with Vehicle Image -->
      <div class="modal-body text-center">
        <img [src]="OptimaVehicleImageUrl" alt="Vehicle Image" class="img-fluid rounded shadow-sm mb-4" style="max-height: 400px; object-fit: cover;" />
      <br>
        <h6>Vehicle Entered on {{optimaVecEnteredDate}} at {{optimaVecEnteredTime}}</h6>
      </div>

      <!-- Modal Footer with Action Buttons -->
      <div class="modal-footer d-flex justify-content-center flex-column align-items-center">
        <button type="button" class="btn-register w-75 mb-2" (click)="agreeAndProceed()">Confirm this is my vehicle</button>
        <button type="button" class="btn btn-outline-danger w-75" (click)="closeVechConfirmPopUp()">This is not my vehicle</button>
      </div>

    </div>
  </div>
</div>

